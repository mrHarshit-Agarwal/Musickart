{"ast":null,"code":"import _defineProperty from\"C:/Users/HARSHIT AGARWAL/OneDrive/Desktop/cuvette/Musicart-app/Project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/HARSHIT AGARWAL/OneDrive/Desktop/cuvette/Musicart-app/Project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import styles from'./FilterChip.module.css';import{UserContext}from'../../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FilterChip(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showOptions=_useState2[0],setShowOptions=_useState2[1];var _useContext=useContext(UserContext),filters=_useContext.filters,setFilters=_useContext.setFilters;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),highlight=_useState4[0],setHighlight=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),itemHighlight=_useState6[0],setItemHighLight=_useState6[1];useEffect(function(){var checkHighlight=false;filters.forEach(function(item){var itemKey=Object.keys(item)[0];var itemValue=item[itemKey];if(itemKey==props.title){if(itemValue!='none'){checkHighlight=true;}}});setHighlight(checkHighlight);},[filters]);function handleClick(filterQuery,filterValue){setShowOptions(false);var query=filterQuery;var value=filterValue;var newObj=_defineProperty({},query,value);var pushFlag=true;var newFilter=[];var currFilter=filters;currFilter.forEach(function(item){var ObjKey=Object.keys(newObj)[0];var ObjValue=newObj[ObjKey];var itemKey=Object.keys(item)[0];var itemValue=item[itemKey];if(ObjKey==itemKey){if(ObjValue==itemValue){newFilter.push(_defineProperty({},ObjKey,'none'));}else{currFilter[itemKey]=ObjValue;pushFlag=false;newFilter.push(_defineProperty({},ObjKey,ObjValue));}}else{newFilter.push(_defineProperty({},itemKey,itemValue));}});setFilters(newFilter);}var diplayOptions=props.options.map(function(item){return/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(styles.item,\" \").concat(itemHighlight&&styles.itemHighlight),onClick:function onClick(){return handleClick(props.title,item);},children:item});});return/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(highlight&&styles.highlight,\" \").concat(styles.top),children:[/*#__PURE__*/_jsx(\"span\",{children:props.title}),/*#__PURE__*/_jsx(\"img\",{src:\"../../images/downArrowIcon.png\",alt:\"options\",className:styles.icon,onClick:function onClick(){return setShowOptions(showOptions==true?false:true);}})]}),showOptions&&/*#__PURE__*/_jsx(\"div\",{className:styles.bottom,children:diplayOptions})]});}","map":{"version":3,"names":["React","useState","useContext","useEffect","styles","UserContext","jsx","_jsx","jsxs","_jsxs","FilterChip","props","_useState","_useState2","_slicedToArray","showOptions","setShowOptions","_useContext","filters","setFilters","_useState3","_useState4","highlight","setHighlight","_useState5","_useState6","itemHighlight","setItemHighLight","checkHighlight","forEach","item","itemKey","Object","keys","itemValue","title","handleClick","filterQuery","filterValue","query","value","newObj","_defineProperty","pushFlag","newFilter","currFilter","ObjKey","ObjValue","push","diplayOptions","options","map","className","concat","onClick","children","main","top","src","alt","icon","bottom"],"sources":["C:/Users/HARSHIT AGARWAL/OneDrive/Desktop/cuvette/Musicart-app/Project/frontend/src/components/filterChip/FilterChip.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport styles from './FilterChip.module.css'\r\nimport { UserContext } from '../../App';\r\n\r\nexport default function FilterChip(props) {\r\n\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const { filters, setFilters } = useContext(UserContext);\r\n  const [highlight, setHighlight] = useState(false);\r\n  const [itemHighlight, setItemHighLight] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let checkHighlight = false;\r\n    filters.forEach((item) => {\r\n      let itemKey = Object.keys(item)[0];\r\n      let itemValue = item[itemKey];\r\n      if (itemKey == props.title) {\r\n        if (itemValue != 'none') {\r\n          checkHighlight = true;\r\n        }\r\n      }\r\n\r\n    })\r\n    setHighlight(checkHighlight)\r\n  }, [filters])\r\n\r\n\r\n\r\n  function handleClick(filterQuery, filterValue) {\r\n    setShowOptions(false);\r\n    const query = filterQuery\r\n    const value = filterValue\r\n\r\n    const newObj = { [query]: value }\r\n    let pushFlag = true;\r\n    let newFilter = [];\r\n    let currFilter = filters;\r\n\r\n    currFilter.forEach(item => {\r\n      let ObjKey = Object.keys(newObj)[0];\r\n      let ObjValue = newObj[ObjKey];\r\n      let itemKey = Object.keys(item)[0];\r\n      let itemValue = item[itemKey];\r\n\r\n      if (ObjKey == itemKey) {\r\n        if (ObjValue == itemValue) {\r\n          newFilter.push({\r\n            [ObjKey]: 'none'\r\n          })\r\n        }\r\n        else {\r\n          currFilter[itemKey] = ObjValue;\r\n          pushFlag = false;\r\n          newFilter.push({\r\n            [ObjKey]: ObjValue\r\n          })\r\n        }\r\n\r\n      }\r\n      else {\r\n        newFilter.push({\r\n          [itemKey]: itemValue\r\n        })\r\n      }\r\n\r\n    });\r\n    setFilters(newFilter);\r\n  }\r\n\r\n  const diplayOptions = props.options.map((item) => {\r\n    return (\r\n      <span className={`${styles.item} ${itemHighlight && styles.itemHighlight}`}\r\n        onClick={() => handleClick(props.title, item)}\r\n      >{item}</span>\r\n    )\r\n  })\r\n  return (\r\n    <div className={styles.main}>\r\n      <div className={`${highlight && styles.highlight} ${styles.top}`}>\r\n        <span>{props.title}</span>\r\n        <img src=\"../../images/downArrowIcon.png\" alt=\"options\" className={styles.icon}\r\n          onClick={() => setShowOptions(showOptions == true ? false : true)}\r\n        />\r\n      </div>\r\n      {showOptions && <div className={styles.bottom}>\r\n        {diplayOptions}\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}